"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_emitus=require("emitus"),_emitus2=_interopRequireDefault(_emitus);exports["default"]=function(){function e(){b.forEach(function(e){return s(e)}),f(x),o(),d(),c()}function t(){g||r("prev")}function n(){g||r("next")}function r(e){var t=arguments.length<=1||void 0===arguments[1]?-1:arguments[1];g=!0,clearTimeout(C),p(b[x]),-1!==t?x=t:(x="next"===e?x+1:x-1,x>b.length-1&&(x=0),0>x&&(x=b.length-1)),w=b[x],p(w),L.classList.add(N.animationClass),l(L,"next"===e?"-"+q+"px":q+"px"),l(b[x],"next"===e?q+"px":"-"+q+"px"),setTimeout(function(){g=!1,L.classList.remove(N.animationClass),a(L,"none"),a(b[x],"none"),f(x),E.emit("move",[e,x,w]),E.emit(e,[x,w]),o()},N.animationSpeed+260)}function i(e){!g&&x!==e&&e>=0&&e<b.length&&r(0>x-e?"next":"prev",e)}function o(){N.slideshow&&(C=setTimeout(n,N.slideshowSpeed))}function s(e){var t=e.getAttribute("data-src");e.style.setProperty("background-image","url('"+t+"')")}function l(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];a(e,"translateX("+t+")")}function a(e,t){e.style.setProperty("-webkit-transform",t),e.style.setProperty("-moz-transform",t),e.style.setProperty("transform",t)}function c(){N.keyboard&&v(),N.directionNavs&&u(),window.addEventListener("resize",function(){q=S.offsetWidth},!1)}function d(){if(N.controlNavs){var e=S.querySelector(N.controlNavClass),t=document.createElement("ul");h(e);for(var n=void 0,r=function(e){n=document.createElement("a"),n.addEventListener("click",function(t){i(e),t.preventDefault()},!1),t.appendChild(n)},o=0;o<b.length;o++)r(o);e.appendChild(t)}}function u(){var e=S.querySelector(N.directionNavPrev),r=S.querySelector(N.directionNavNext);e&&r&&(e.addEventListener("click",function(e){e.preventDefault(),t()},!1),r.addEventListener("click",function(e){e.preventDefault(),n()},!1))}function v(){document.addEventListener("keyup",function(e){37===e.which&&t(),39===e.which&&n()},!1)}function f(e){b.forEach(function(t,n){p(t,e===n,e===n)})}function p(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=N.slideActive.replace(/^\./g,""),i=N.slideShowClass.replace(/^\./g,"");t?e.classList.add(i):e.classList.remove(i),n?e.classList.add(r):e.classList.remove(r)}function m(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return Array.prototype.slice.call(t.querySelectorAll(e))}function h(){for(var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e&&e.firstChild;)e.removeChild(e.firstChild)}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],g=!1,x=0,C=0,w=null,N=_extends({container:".slendr",selector:".slendr-slides > .slendr-slide",animationClass:".slendr-animate",directionNavPrev:".slendr-prev",directionNavNext:".slendr-next",slideActive:".slendr-active",slideShowClass:".slendr-show",animationSpeed:900,slideshow:!0,slideshowSpeed:4e3,directionNavs:!0,controlNavs:!0,controlNavClass:".slendr-control",keyboard:!1},y),S=document.querySelector(N.container),_=N.selector.substr(0,N.selector.search(" ")),L=S.querySelector(_),b=m(N.selector,L),q=S.offsetWidth;N.animationClass=N.animationClass.replace(/^\./g,""),e();var E=(0,_emitus2["default"])({prev:t,next:n,move:function(e){return i(e)}});return E},module.exports=exports["default"];
