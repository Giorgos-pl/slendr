"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Emitus=require("emitus");module.exports=function(){function e(){b.forEach(function(e){return s(e)}),f(x),o(),c(),u(),v(),d()}function t(){g||r("prev")}function n(){g||r("next")}function r(e){var t=arguments.length<=1||void 0===arguments[1]?-1:arguments[1];g=!0,clearTimeout(C),m(b[x]),-1!==t?x=t:(x="next"===e?x+1:x-1,x>b.length-1&&(x=0),0>x&&(x=b.length-1)),w=b[x],m(w),L.classList.add(N.animationClass),a(L,"next"===e?"-"+k+"px":k+"px"),a(b[x],"next"===e?k+"px":"-"+k+"px"),setTimeout(function(){g=!1,L.classList.remove(N.animationClass),l(L,"none"),l(b[x],"none"),f(x),q.emit("move",[e,x,w]),q.emit(e,[x,w]),o()},N.animationSpeed+260)}function i(e){!g&&x!==e&&e>=0&&e<b.length&&r(0>x-e?"next":"prev",e)}function o(){N.slideshow&&(C=setTimeout(n,N.slideshowSpeed))}function s(e){var t=e.getAttribute("data-src");e.style.setProperty("background-image","url('"+t+"')")}function a(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];l(e,"translateX("+t+")")}function l(e,t){e.style.setProperty("-webkit-transform",t),e.style.setProperty("-moz-transform",t),e.style.setProperty("transform",t)}function c(){window.addEventListener("resize",function(){k=S.offsetWidth},!1)}function d(){if(N.controlNavs){var e=S.querySelector(N.controlNavClass);if(!e)return void(N.controlNavs=!1);var t=void 0,n=document.createElement("ul");p(e);for(var r=function(e){t=document.createElement("a"),t.addEventListener("click",function(t){i(e),t.preventDefault()},!1),n.appendChild(t)},o=0;o<b.length;o++)r(o);e.appendChild(n)}}function u(){if(N.directionNavs){var e=S.querySelector(N.directionNavPrev),r=S.querySelector(N.directionNavNext);e&&r&&(e.addEventListener("click",function(e){e.preventDefault(),t()},!1),r.addEventListener("click",function(e){e.preventDefault(),n()},!1))}}function v(){N.keyboard&&document.addEventListener("keyup",function(e){37===e.which&&t(),39===e.which&&n()},!1)}function f(e){b.forEach(function(t,n){m(t,e===n,e===n)})}function m(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=N.slideActive.replace(/^\./g,""),i=N.slideShowClass.replace(/^\./g,"");t?e.classList.add(i):e.classList.remove(i),n?e.classList.add(r):e.classList.remove(r)}function h(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return Array.prototype.slice.call(t.querySelectorAll(e))}function p(){for(var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e&&e.firstChild;)e.removeChild(e.firstChild)}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],g=!1,x=0,C=0,w=null,N=_extends({container:".slendr",selector:".slendr-slides > .slendr-slide",animationClass:".slendr-animate",directionNavPrev:".slendr-prev",directionNavNext:".slendr-next",slideActive:".slendr-active",slideShowClass:".slendr-show",animationSpeed:900,slideshow:!0,slideshowSpeed:4e3,directionNavs:!0,controlNavs:!0,controlNavClass:".slendr-control",keyboard:!1},y),S=document.querySelector(N.container),E=N.selector.substr(0,N.selector.search(" ")),L=S.querySelector(E),b=h(N.selector,L),k=S.offsetWidth;N.animationClass=N.animationClass.replace(/^\./g,""),e();var q=Emitus({prev:t,next:n,move:function(e){return i(e)}});return q};
