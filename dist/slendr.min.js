"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Emitus=require("emitus");module.exports=function(){function e(){b.forEach(function(e){return s(e)}),b.length<2||(f(C),d(),h(C),i(),c(),v(),u())}function t(){N||r("prev")}function n(){N||r("next")}function r(e){var t=arguments.length<=1||void 0===arguments[1]?-1:arguments[1];N=!0,clearTimeout(x),m(b[C]),-1!==t?C=t:(C="next"===e?C+1:C-1,C>b.length-1&&(C=0),0>C&&(C=b.length-1)),w=b[C],m(w),A.classList.add(L.animationClass),a(A,"next"===e?"-"+q+"px":q+"px"),a(w,"next"===e?q+"px":"-"+q+"px"),h(C),setTimeout(function(){N=!1,A.classList.remove(L.animationClass),l(A,"none"),l(b[C],"none"),f(C),P.emit("move",[e,C,w]),P.emit(e,[C,w]),i()},L.animationSpeed+260)}function o(e){!N&&C!==e&&e>=0&&e<b.length&&r(0>C-e?"next":"prev",e)}function i(){L.slideshow&&(x=setTimeout(n,L.slideshowSpeed))}function s(e){var t=e.getAttribute("data-src");e.style.setProperty("background-image","url('"+t+"')")}function a(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];l(e,"translateX("+t+")")}function l(e,t){e.style.setProperty("-webkit-transform",t),e.style.setProperty("-moz-transform",t),e.style.setProperty("transform",t)}function c(){window.addEventListener("resize",function(){q=E.offsetWidth},!1)}function d(){if(L.controlNavs){var e=E.querySelector(L.controlNavClass);if(!e)return void(L.controlNavs=!1);var t=void 0,n=document.createElement("ul");g(e);for(var r=function(e){t=document.createElement("a"),t.addEventListener("click",function(t){o(e),t.preventDefault()},!1),n.appendChild(t),k.push(t)},i=0;i<b.length;i++)r(i);e.appendChild(n)}}function v(){if(L.directionNavs){var e=E.querySelector(L.directionNavPrev),r=E.querySelector(L.directionNavNext);e&&r?(e.addEventListener("click",function(e){e.preventDefault(),t()},!1),r.addEventListener("click",function(e){e.preventDefault(),n()},!1)):L.directionNavs=!1}}function u(){L.keyboard&&document.addEventListener("keyup",function(e){37===e.which&&t(),39===e.which&&n()},!1)}function f(e){b.forEach(function(t,n){return m(t,e===n,e===n)}),E.setAttribute("data-slendr-length",b.length)}function h(e){L.controlNavClassActive=L.controlNavClassActive.replace(/^\./g,""),L.controlNavs&&b.length>1&&(k.forEach(function(e,t){k[t].classList.remove(L.controlNavClassActive)}),k[e].classList.add(L.controlNavClassActive))}function m(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=L.slideActive.replace(/^\./g,""),o=L.slideShowClass.replace(/^\./g,"");t?e.classList.add(o):e.classList.remove(o),n?e.classList.add(r):e.classList.remove(r)}function p(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return Array.prototype.slice.call(t.querySelectorAll(e))}function g(){for(var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e&&e.firstChild;)e.removeChild(e.firstChild)}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],N=!1,C=0,x=0,w=null,L=_extends({container:".slendr",selector:".slendr-slides > .slendr-slide",animationClass:".slendr-animate",directionNavPrev:".slendr-prev",directionNavNext:".slendr-next",slideActive:".slendr-active",slideShowClass:".slendr-show",animationSpeed:900,slideshow:!0,slideshowSpeed:4e3,directionNavs:!0,keyboard:!1,controlNavs:!0,controlNavClass:".slendr-control",controlNavClassActive:".slendr-control-active"},y),E=document.querySelector(L.container),S=L.selector.substr(0,L.selector.search(" ")),A=E.querySelector(S),b=p(L.selector,A),k=[],q=E.offsetWidth;L.animationClass=L.animationClass.replace(/^\./g,""),e();var P=Emitus({prev:t,next:n,move:function(e){return o(e)}});return P};
